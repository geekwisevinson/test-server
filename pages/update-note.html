<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <div>
        <a href="/pages/add-note.html">Add Notes</a> <a href="/pages/get-notes.html">Get Notes</a><a href="/pages/update-note.html">Update Notes</a>
    </div>
</div>
<h1>Update Note</h1>

<input type="text" placeholder="name">
<input type="text" placeholder="flatName">
<input type="text" placeholder="sharpName">
<input type="text" placeholder="noteNumber">
<button onclick="addNote(true)">Add Note</button>
<script>

    function addNote(p_isNew) {
        const values = getValues();
        const payload = {};
        let payloadString = '';
        Object.keys(values).forEach( key => {
            if (values[key]) {
                payload[key] = values[key];
                payloadString += `${key}: ${surround(values[key])} `
            }
        });
        function surround(value) {
            return isNaN(Number(value)) ? `"${value}"` : Number(value);
        }
        console.log('payload', payload);
        gql(payloadString, function (res) {
            console.log(res);
        })

    }

    function getValues() {
        return {
            name: document.querySelector('[placeholder=name]').value,
            flatName: document.querySelector('[placeholder=flatName]').value,
            sharpName: document.querySelector('[placeholder=sharpName]').value,
            noteNumber: document.querySelector('[placeholder=noteNumber]').value,
        }
    }
</script>
</body>
</html>
